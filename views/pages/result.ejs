<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('head.ejs', {title: title}) %>
    <link href="/stylesheets/result.css" rel="stylesheet">
    <style>
        .res-box {
            width: 100%;
            height: 100%;
            border-radius: 5%;
            overflow: hidden;
        }
        .res-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
    <script>
        const copy = (text) => {
            // 임시의 textarea 생성
            const $textarea = document.createElement("textarea");

            // body 요소에 존재해야 복사가 진행됨
            document.body.appendChild($textarea);

            // 복사할 특정 텍스트를 임시의 textarea에 넣어주고 모두 셀렉션 상태
            $textarea.value = text;
            $textarea.select();

            // 복사 후 textarea 지우기
            document.execCommand('copy');
            document.body.removeChild($textarea);
        }
        function share() {
            const shareURL = 'http://ssossotest.com/share' + '?userid=<%- user_id%>' + '&' + 'path=<%- path%>'
            copy(shareURL)
            alert('클립보드에 url이 복사되었어요! 링크를 공유해보세요')
        }
    </script>
</head>
<body>
<%- include('header.ejs') %>
<main>
    <%if(path === 'mbti') { %>
        <%- include(`./components/mbti.ejs`, { image: result.image, title: result.title, desc: result.desc }) %>
    <%}%>
    <%if(path === 'average') { %>
        <%- include(`./components/average.ejs`, {title: result.title, desc: result.desc}) %>
    <%}%>
    <%if(path === 'tastes') { %>
        <%- include(`./components/tastes.ejs`, {title: result.title, desc: result.desc}) %>
    <%}%>
    <div class="d-flex flex-column justify-content-center">
        <button class="btn" onclick="share()" style="margin: 20px;">결과 공유하기</button>
        <button class="btn" style="margin: 20px;"><a href="/main" style="color: black; text-decoration: none;">처음으로</a></button>
    </div>
</main>
<%- include('footer.ejs') %>
</body>

</html>
